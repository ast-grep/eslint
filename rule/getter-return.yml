id: getter-return
message: Enforce `return` statements in getters
severity: warning
language: TypeScript
rule:
  all:
    - pattern: await $_
    - inside:
        until:
          any:
            - kind: function_declaration
            - kind: arrow_function
            - kind: function
            - kind: method_definition
        any:
          - kind: for_in_statement
          - kind: for_statement
          - kind: while_statement
          - kind: do_statement
    - not:
        inside:
          immediate: true
          any:
            - kind: for_in_statement
            - kind: for_statement
            - kind: while_statement
            - kind: do_statement
note: |
  The get syntax binds an object property to a function that will be called when that property is looked up. Every getter is expected to return a value.
